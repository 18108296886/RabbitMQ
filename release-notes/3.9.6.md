RabbitMQ `3.9.6` is a maintenance release in the `3.9.x` release series.

Please refer to the **Upgrading to 3.9** section from [v3.9.0 release notes](https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.9.0) if upgrading from a version prior to 3.9.0.

This release requires at least Erlang 23.2, and supports the latest Erlang 24 version, 24.0.5 at the time of release. [RabbitMQ and Erlang/OTP Compatibility Matrix](https://www.rabbitmq.com/which-erlang.html) has more details on Erlang version requirements for RabbitMQ.



## Changes Worth Mentioning

Release notes are kept under [rabbitmq-server/release-notes](https://github.com/rabbitmq/rabbitmq-server/tree/v3.9.x/release-notes).
Contributors are encouraged to update them together with their changes. This helps with release automation and a more consistent release schedule.


### Core Server

#### Bug Fixes

* TLS information delivered in [Proxy protocol](https://www.rabbitmq.com/networking.html#proxy-protocol) header is now attached to connection metrics as if it was provided by a non-proxying client.

   GitHub issue: [#3175](https://github.com/rabbitmq/rabbitmq-server/pull/3175) contributed by @prefiks, sponsored by CloudAMQP


### Stream Plugin

#### Bug Fixes

 * When stream clients close connections abruptly, publisher and consumer metrics get cleaned up correctly.

   GitHub issue: [#3340](https://github.com/rabbitmq/rabbitmq-server/pull/3340)

 * Classic queue shutdown now uses a much higher timeout (up to 10 minutes instead of 30 seconds).

   In environments with many queues (especially mirrored queues) and many consumers this means that
   the chance of queue indices rebuilding after node restart is now substantially lower.

   GitHub issue: [#3409](https://github.com/rabbitmq/rabbitmq-server/pull/3409)


## Dependency Upgrades

No dependency changes in this release.


## Source Code Archives

To obtain source code of the entire distribution, please download the archive named `rabbitmq-server-3.9.6.tar.xz` instead of the source tarball produced by GitHub.
